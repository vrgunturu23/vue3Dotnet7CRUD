{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport UserDataService from \"../service/UserDataService\";\nexport default {\n  name: \"User\",\n  data() {\n    return {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      errors: []\n    };\n  },\n  computed: {\n    id() {\n      return this.$route.params.id;\n    }\n  },\n  methods: {\n    refreshUserDetails() {\n      UserDataService.retrieveUser(this.id).then(res => {\n        this.firstName = res.data.firstName;\n        this.lastName = res.data.lastName;\n        this.email = res.data.email;\n      });\n    },\n    validateAndSubmit(e) {\n      e.preventDefault();\n      this.errors = [];\n      if (!this.firstName) {\n        this.errors.push(\"Enter valid values\");\n      } else if (this.firstName.length < 5) {\n        this.errors.push(\"Enter atleast 5 characters in First Name\");\n      }\n      if (!this.lastName) {\n        this.errors.push(\"Enter valid values\");\n      } else if (this.lastName.length < 5) {\n        this.errors.push(\"Enter atleast 5 characters in Last Name\");\n      }\n      if (this.errors.length === 0) {\n        if (this.id == -1) {\n          UserDataService.createUser({\n            firstName: this.firstName,\n            lastName: this.lastName,\n            email: this.email\n          }).then(() => {\n            this.$router.push(\"/\");\n          }, err => this.errors.push(err.response.data.errors));\n        } else {\n          UserDataService.updateUser(this.id, {\n            id: this.id,\n            firstName: this.firstName,\n            lastName: this.lastName,\n            email: this.email\n          }).then(() => {\n            this.$router.push(\"/\");\n          }, err => this.errors.push(err.response.data.errors));\n        }\n      }\n    }\n  },\n  created() {\n    this.refreshUserDetails();\n  }\n};","map":{"version":3,"names":["UserDataService","name","data","firstName","lastName","email","errors","computed","id","$route","params","methods","refreshUserDetails","retrieveUser","then","res","validateAndSubmit","e","preventDefault","push","length","createUser","$router","err","response","updateUser","created"],"sources":["C:\\Users\\venkata.gunturu\\Documents\\vue-3-crud-application\\src\\components\\User.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h3>User</h3>\r\n    <div class=\"container\">\r\n      <form @submit=\"validateAndSubmit\">\r\n        <div v-if=\"errors.length\">\r\n          <div\r\n            class=\"alert alert-danger\"\r\n            v-bind:key=\"index\"\r\n            v-for=\"(error, index) in errors\"\r\n          >\r\n            {{ error }}\r\n          </div>\r\n        </div>\r\n        <fieldset class=\"form-group\">\r\n          <label>First Name</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"firstName\" />\r\n        </fieldset>\r\n        <fieldset class=\"form-group\">\r\n          <label>Last Name</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"lastName\" />\r\n        </fieldset>\r\n        <fieldset class=\"form-group\">\r\n          <label>Email Id</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"email\" />\r\n        </fieldset>\r\n        <button class=\"btn btn-success\" type=\"submit\">Save</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport UserDataService from \"../service/UserDataService\";\r\n\r\nexport default {\r\n  name: \"User\",\r\n  data() {\r\n    return {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      errors: [],\r\n    };\r\n  },\r\n  computed: {\r\n    id() {\r\n      return this.$route.params.id;\r\n    },\r\n  },\r\n  methods: {\r\n    refreshUserDetails() {\r\n      UserDataService.retrieveUser(this.id).then((res) => {\r\n        this.firstName = res.data.firstName;\r\n        this.lastName = res.data.lastName;\r\n        this.email = res.data.email;\r\n      });\r\n    },\r\n    validateAndSubmit(e) {\r\n      e.preventDefault();\r\n      this.errors = [];\r\n      if (!this.firstName) {\r\n        this.errors.push(\"Enter valid values\");\r\n      } else if (this.firstName.length < 5) {\r\n        this.errors.push(\"Enter atleast 5 characters in First Name\");\r\n      }\r\n      if (!this.lastName) {\r\n        this.errors.push(\"Enter valid values\");\r\n      } else if (this.lastName.length < 5) {\r\n        this.errors.push(\"Enter atleast 5 characters in Last Name\");\r\n      }\r\n      if (this.errors.length === 0) {\r\n        if (this.id == -1) {\r\n          UserDataService.createUser({\r\n            firstName: this.firstName,\r\n            lastName: this.lastName,\r\n            email: this.email,\r\n          }).then(() => {\r\n            this.$router.push(\"/\");\r\n          }, err => this.errors.push(err.response.data.errors));\r\n        } else {\r\n          UserDataService.updateUser(this.id, {\r\n            id: this.id,\r\n            firstName: this.firstName,\r\n            lastName: this.lastName,\r\n            email: this.email,\r\n          }).then(() => {\r\n            this.$router.push(\"/\");\r\n          }, err => this.errors.push(err.response.data.errors));\r\n        }\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.refreshUserDetails();\r\n  },\r\n};\r\n</script>"],"mappings":";AAgCA,OAAOA,eAAc,MAAO,4BAA4B;AAExD,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,EAAEA,CAAA,EAAG;MACH,OAAO,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF,EAAE;IAC9B;EACF,CAAC;EACDG,OAAO,EAAE;IACPC,kBAAkBA,CAAA,EAAG;MACnBZ,eAAe,CAACa,YAAY,CAAC,IAAI,CAACL,EAAE,CAAC,CAACM,IAAI,CAAEC,GAAG,IAAK;QAClD,IAAI,CAACZ,SAAQ,GAAIY,GAAG,CAACb,IAAI,CAACC,SAAS;QACnC,IAAI,CAACC,QAAO,GAAIW,GAAG,CAACb,IAAI,CAACE,QAAQ;QACjC,IAAI,CAACC,KAAI,GAAIU,GAAG,CAACb,IAAI,CAACG,KAAK;MAC7B,CAAC,CAAC;IACJ,CAAC;IACDW,iBAAiBA,CAACC,CAAC,EAAE;MACnBA,CAAC,CAACC,cAAc,CAAC,CAAC;MAClB,IAAI,CAACZ,MAAK,GAAI,EAAE;MAChB,IAAI,CAAC,IAAI,CAACH,SAAS,EAAE;QACnB,IAAI,CAACG,MAAM,CAACa,IAAI,CAAC,oBAAoB,CAAC;MACxC,OAAO,IAAI,IAAI,CAAChB,SAAS,CAACiB,MAAK,GAAI,CAAC,EAAE;QACpC,IAAI,CAACd,MAAM,CAACa,IAAI,CAAC,0CAA0C,CAAC;MAC9D;MACA,IAAI,CAAC,IAAI,CAACf,QAAQ,EAAE;QAClB,IAAI,CAACE,MAAM,CAACa,IAAI,CAAC,oBAAoB,CAAC;MACxC,OAAO,IAAI,IAAI,CAACf,QAAQ,CAACgB,MAAK,GAAI,CAAC,EAAE;QACnC,IAAI,CAACd,MAAM,CAACa,IAAI,CAAC,yCAAyC,CAAC;MAC7D;MACA,IAAI,IAAI,CAACb,MAAM,CAACc,MAAK,KAAM,CAAC,EAAE;QAC5B,IAAI,IAAI,CAACZ,EAAC,IAAK,CAAC,CAAC,EAAE;UACjBR,eAAe,CAACqB,UAAU,CAAC;YACzBlB,SAAS,EAAE,IAAI,CAACA,SAAS;YACzBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;YACvBC,KAAK,EAAE,IAAI,CAACA;UACd,CAAC,CAAC,CAACS,IAAI,CAAC,MAAM;YACZ,IAAI,CAACQ,OAAO,CAACH,IAAI,CAAC,GAAG,CAAC;UACxB,CAAC,EAAEI,GAAE,IAAK,IAAI,CAACjB,MAAM,CAACa,IAAI,CAACI,GAAG,CAACC,QAAQ,CAACtB,IAAI,CAACI,MAAM,CAAC,CAAC;QACvD,OAAO;UACLN,eAAe,CAACyB,UAAU,CAAC,IAAI,CAACjB,EAAE,EAAE;YAClCA,EAAE,EAAE,IAAI,CAACA,EAAE;YACXL,SAAS,EAAE,IAAI,CAACA,SAAS;YACzBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;YACvBC,KAAK,EAAE,IAAI,CAACA;UACd,CAAC,CAAC,CAACS,IAAI,CAAC,MAAM;YACZ,IAAI,CAACQ,OAAO,CAACH,IAAI,CAAC,GAAG,CAAC;UACxB,CAAC,EAAEI,GAAE,IAAK,IAAI,CAACjB,MAAM,CAACa,IAAI,CAACI,GAAG,CAACC,QAAQ,CAACtB,IAAI,CAACI,MAAM,CAAC,CAAC;QACvD;MACF;IACF;EACF,CAAC;EACDoB,OAAOA,CAAA,EAAG;IACR,IAAI,CAACd,kBAAkB,CAAC,CAAC;EAC3B;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}